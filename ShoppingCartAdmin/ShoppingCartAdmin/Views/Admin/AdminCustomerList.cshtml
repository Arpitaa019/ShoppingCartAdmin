@{
    ViewData["Title"] = "AdminCustomers";
    Layout = "~/Views/Shared/_LayoutAdmin.cshtml";
}

<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<div style="margin:0; font-family:Arial, sans-serif; background-color:#f4f6f9;">

    <!-- Header -->
    <div style="background-color:#2c3e50; color:white; padding:15px 30px; font-size:20px;">
        Flipkart Admin – All Customers
    </div>

    <!-- Main Content -->
    <div style="padding:30px;">
        <h2 style="margin-bottom:20px;">Customer Directory</h2>

        <input type="text" id="customerSearch" placeholder="Search by name, email, or mobile..." style="padding:8px 12px; width:300px; margin-bottom:20px; border-radius:4px; border:1px solid #ccc;" />

        <table style="width:100%; border-collapse:collapse; background-color:white;">
            <thead>
                <tr style="background-color:#ecf0f1;">
                    <th style="padding:10px; border:1px solid #ccc;">Name</th>
                    <th style="padding:10px; border:1px solid #ccc;">Email</th>
                    <th style="padding:10px; border:1px solid #ccc;">Mobile</th>
                    <th style="padding:10px; border:1px solid #ccc;">Status</th>
                    <th style="padding:10px; border:1px solid #ccc;">Actions</th>
                </tr>
            </thead>
            <tbody id="customerList"></tbody>
        </table>
    </div>

    </div>
    <!-- Static Data + Navigation -->
    <script>
        $(document).ready(function () {
            const customers = [
                { id: 1, name: "Ravi Kumar", email: "ravi@example.com", mobile: "9876543210", status: "Active" },
                { id: 2, name: "Sneha Patil", email: "sneha@example.com", mobile: "9123456780", status: "Blocked" },
                { id: 3, name: "Amit Shah", email: "amit@example.com", mobile: "9988776655", status: "Active" }
            ];

            function renderCustomers(data) {
                $("#customerList").empty();
                data.forEach(c => {
                    $("#customerList").append(`
                                <tr>
                                    <td style="padding:10px; border:1px solid #ccc;">${c.name}</td>
                                    <td style="padding:10px; border:1px solid #ccc;">${c.email}</td>
                                    <td style="padding:10px; border:1px solid #ccc;">${c.mobile}</td>
                                    <td style="padding:10px; border:1px solid #ccc;">${c.status}</td>
                                    <td style="padding:10px; border:1px solid #ccc;">
                                        <button onclick="navigateToCustomer(${c.id})" style="padding:5px 10px;">View</button>
                                    </td>
                                </tr>
                            `);
                });
            }

            renderCustomers(customers);

            $("#customerSearch").on("input", function () {
                const query = $(this).val().toLowerCase();
                const filtered = customers.filter(c =>
                    c.name.toLowerCase().includes(query) ||
                    c.email.toLowerCase().includes(query) ||
                    c.mobile.includes(query)
                );
                renderCustomers(filtered);
            });
        });

        function navigateToCustomer(id) {
            // Replace with actual routing logic
            //window.location.href = `/Admin/CustomerManagement?id=${id}`;
        window.location.href = `/Admin/AdminCustomerManagement?id=${id}`;
        }
    </script>
